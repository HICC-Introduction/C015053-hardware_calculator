# Calculator 성과물
## 수행한 내용
    요약
    아두이노를 활용해 전반적인 계산기의 기능(+, -, *, /, C(초기화), =)을 구현하는데 성공했지만 7-segment로 display를 구현하지 못했다.
[실행 영상 링크](https://github.com/HICC-Introduction/C015053-hardware_calculator/blob/develop/%EC%8B%A4%ED%96%89%EC%98%81%EC%83%81.mp4)
---
### 1. 하드웨어 프로토타입

* MCU: Arduino ATmega2560 R3 호환보드

* 입력장치: KeyPad

* 출력장치: 7-segment(오류로 인해 Serial.println으로 대체)

* Power: usb type A

* 회로연결: 빵판, 수-수 전선, 저항

### 2. 코드
---
* arduino_calculator.ino
* 헤더 파일: Keypad.h, SevSeg.h
* 덧셈, 뺄셈, 곱셈, 나눗셈 가능
* 숫자(KeyPad로 입력)+연산기호(KeyPad로 입력)+숫자(KeyPad로 입력)+'='(KeyPad로 입력) => 결과값 출력
* 추가로 연산이 필요한 경우 C버튼(KeyPad로 입력)으로 초기화
* 연산 과정 중간에 C키를 눌러도 초기화 기능 작동
* 양수, 음수 발생
* Serial.println함수를 활용해서 계산된 값과 상태(실행중인 코드 위치) 표기


## 문제 상황
---
SevSeg 라이브러리를 활용하여 sevseg.setNumber함수로 숫자를 표현하는 과정에서 오류 발생, 반복문 안에서 sevseg.setNumber 함수가 정상적으로 작동하지 않음. 숫자의 일부만 출력되는 현상 발생. 정확한 이유는 모르겠으나 loop에서 작동하는 함수를 다른 함수에서 반복문으로 해당 함수를 실행하다보니 반복하면서 입력된 값이 쌓여서 문제가 발생하는 듯 하다. 

## 해결 방안
---
1. SevSeg 라이브러리를 활용하지 않고 직접 7-segment 4-digit의 구조를 파악하고 숫자를 표기하는 함수를 구현한다. (많은 시간 필요)

1. 7-segment와 decoder가 결합된 형태를 활용하여 보다 간단하게 pin을 연결하고 관련 라이브러리를 활용하여 숫자를 디스플레이에 표기한다. (짧은 시간 안에 수행 가능, 별도로 구입필요)


